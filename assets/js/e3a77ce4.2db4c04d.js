"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[234],{3314:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"rules/sw102-forbidden-namespace-using","title":"SW102: Forbidden namespace using","description":"Overview","source":"@site/docs/rules/sw102-forbidden-namespace-using.md","sourceDirName":"rules","slug":"/rules/sw102-forbidden-namespace-using","permalink":"/Stackworx.Analyzers/docs/rules/sw102-forbidden-namespace-using","draft":false,"unlisted":false,"editUrl":"https://github.com/stackworx-dotnet/Stackworx.Analyzers/edit/main/docs/docs/rules/sw102-forbidden-namespace-using.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"docsSidebar","previous":{"title":"SWGQL04: Duplicate GraphQL extension field","permalink":"/Stackworx.Analyzers/docs/rules/swgql04-graphql-duplicate-extension-field"}}');var r=s(4848),t=s(8453);const l={sidebar_position:7},c="SW102: Forbidden namespace using",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Description",id:"description",level:2},{value:"When This Rule Triggers",id:"when-this-rule-triggers",level:2},{value:"Why This Matters",id:"why-this-matters",level:2},{value:"Explicit Import Prevention",id:"explicit-import-prevention",level:3},{value:"How to Fix",id:"how-to-fix",level:2},{value:"Option 1: Remove the using directive",id:"option-1-remove-the-using-directive",level:3},{value:"Option 2: Use only public APIs",id:"option-2-use-only-public-apis",level:3},{value:"Option 3: Move within the feature",id:"option-3-move-within-the-feature",level:3},{value:"Example",id:"example",level:2},{value:"Difference from SW101",id:"difference-from-sw101",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Related Rules",id:"related-rules",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sw102-forbidden-namespace-using",children:"SW102: Forbidden namespace using"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rule ID:"})," SW102",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Category:"})," Architecture",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Severity:"})," Warning",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," Currently disabled"]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["This rule prevents ",(0,r.jsx)(n.code,{children:"using"})," directives that import feature-internal namespaces from outside the feature. It works in conjunction with SW101 to enforce architectural boundaries, specifically catching explicit ",(0,r.jsx)(n.code,{children:"using"})," statements that target internal namespaces."]}),"\n",(0,r.jsx)(n.h2,{id:"when-this-rule-triggers",children:"When This Rule Triggers"}),"\n",(0,r.jsx)(n.p,{children:"The analyzer reports a diagnostic when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.code,{children:"using"})," directive imports a feature's internal namespace"]}),"\n",(0,r.jsx)(n.li,{children:"The code using the directive is outside that feature"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,r.jsx)(n.h3,{id:"explicit-import-prevention",children:"Explicit Import Prevention"}),"\n",(0,r.jsx)(n.p,{children:"While SW101 flags direct type references, this rule catches the more explicit case of importing entire namespaces:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prevents accidental pollution of the namespace"}),"\n",(0,r.jsx)(n.li,{children:"Makes violations more obvious during code review"}),"\n",(0,r.jsx)(n.li,{children:"Catches problems at the import stage before actual usage"}),"\n",(0,r.jsx)(n.li,{children:"Serves as an early warning system"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-to-fix",children:"How to Fix"}),"\n",(0,r.jsx)(n.h3,{id:"option-1-remove-the-using-directive",children:"Option 1: Remove the using directive"}),"\n",(0,r.jsxs)(n.p,{children:["Delete the ",(0,r.jsx)(n.code,{children:"using"})," statement that imports the internal namespace:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// \u274c WRONG\nusing Users.Internal;\n\npublic class OrderService\n{\n    // ...\n}\n\n// \u2705 CORRECT\npublic class OrderService\n{\n    // ...\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"option-2-use-only-public-apis",children:"Option 2: Use only public APIs"}),"\n",(0,r.jsx)(n.p,{children:"Reference types through their public namespaces:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// \u274c WRONG\nusing Users.Internal;\nusing Users.Internal.Helpers;\n\n// \u2705 CORRECT\nusing Users;\n\npublic class OrderProcessor\n{\n    private readonly IUserService userService;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"option-3-move-within-the-feature",children:"Option 3: Move within the feature"}),"\n",(0,r.jsx)(n.p,{children:"If the code needs access to internal implementations, move it into the feature:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// \u274c WRONG - Outside Users feature\n// File: Orders/UserValidator.cs\nusing Users.Internal;\n\npublic class UserValidator { }\n\n// \u2705 CORRECT - Inside Users feature\n// File: Users/UserValidator.cs\nnamespace Users;\n\npublic class UserValidator { }\n"})}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// File: Users/Internal/UserCache.cs\nnamespace Users.Internal;\n\ninternal class UserCache\n{\n    public User? Get(int id) { /* ... */ }\n}\n\n// File: Orders/OrderService.cs\nnamespace Orders;\n\n// \u26a0\ufe0f SW102 - Using statement targets internal namespace\nusing Users.Internal;  // \u274c Violation\n\npublic class OrderService\n{\n    private UserCache cache = new();\n}\n\n// \u2705 CORRECT - Use public interface\nusing Users;\n\npublic class OrderService\n{\n    private readonly IUserService userService;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"difference-from-sw101",children:"Difference from SW101"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Rule"}),(0,r.jsx)(n.th,{children:"Detects"}),(0,r.jsx)(n.th,{children:"Catches"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"SW101"})}),(0,r.jsx)(n.td,{children:"Direct type references to internal types"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"var user = new Users.Internal.UserHelper()"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"SW102"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"using"})," directives importing internal namespaces"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"using Users.Internal;"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Both rules work together to prevent unauthorized access to feature internals."}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"This rule is currently disabled to avoid false positives. To enable it:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SW102.severity = warning\n"})}),"\n",(0,r.jsx)(n.p,{children:"To treat violations as errors:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SW102.severity = error\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-rules",children:"Related Rules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"./sw101-forbidden-namespace-reference",children:"SW101 - Forbidden reference to feature-internal namespace"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SW101 documentation"}),"\n",(0,r.jsx)(n.li,{children:"Clean Architecture principles"}),"\n",(0,r.jsx)(n.li,{children:"Feature-driven development patterns"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);