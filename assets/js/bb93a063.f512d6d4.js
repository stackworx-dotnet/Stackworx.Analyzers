"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[909],{4307:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"rules/swgql02-unused-dataloader-interface","title":"SWGQL02: Unused DataLoader interface","description":"Overview","source":"@site/docs/rules/swgql02-unused-dataloader-interface.md","sourceDirName":"rules","slug":"/rules/swgql02-unused-dataloader-interface","permalink":"/Stackworx.Analyzers/docs/rules/swgql02-unused-dataloader-interface","draft":false,"unlisted":false,"editUrl":"https://github.com/stackworx-dotnet/Stackworx.Analyzers/edit/main/docs/docs/rules/swgql02-unused-dataloader-interface.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"SWGQL01: Static extension method validation","permalink":"/Stackworx.Analyzers/docs/rules/swgql01-static-extension-method-validation"},"next":{"title":"SWGQL03: GraphQL extension class static","permalink":"/Stackworx.Analyzers/docs/rules/swgql03-graphql-extension-class-static"}}');var r=a(4848),s=a(8453);const i={sidebar_position:4},d="SWGQL02: Unused DataLoader interface",o={},l=[{value:"Overview",id:"overview",level:2},{value:"Description",id:"description",level:2},{value:"When This Rule Triggers",id:"when-this-rule-triggers",level:2},{value:"Why This Matters",id:"why-this-matters",level:2},{value:"How to Fix",id:"how-to-fix",level:2},{value:"Option 1: Use the DataLoader",id:"option-1-use-the-dataloader",level:3},{value:"Option 2: Remove the unused DataLoader",id:"option-2-remove-the-unused-dataloader",level:3},{value:"Example",id:"example",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Related Rules",id:"related-rules",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"swgql02-unused-dataloader-interface",children:"SWGQL02: Unused DataLoader interface"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rule ID:"})," SWGQL02",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Category:"})," GraphQL",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Severity:"})," Info",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," Enabled by default"]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["This rule identifies DataLoader interfaces that implement ",(0,r.jsx)(n.code,{children:"GreenDonut.IDataLoader<,>"})," but don't appear to be referenced anywhere in the current compilation. This helps detect potentially unused DataLoaders that may have been left behind during refactoring."]}),"\n",(0,r.jsx)(n.h2,{id:"when-this-rule-triggers",children:"When This Rule Triggers"}),"\n",(0,r.jsx)(n.p,{children:"The analyzer reports a diagnostic when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["An interface implements ",(0,r.jsx)(n.code,{children:"GreenDonut.IDataLoader<TKey, TValue>"})]}),"\n",(0,r.jsx)(n.li,{children:"The interface is not referenced (instantiated or used) anywhere in the compilation"}),"\n",(0,r.jsx)(n.li,{children:"GreenDonut is available in the project dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,r.jsx)(n.p,{children:"DataLoaders are a key performance optimization pattern in GraphQL to batch database queries and prevent N+1 query problems. Unused DataLoaders typically indicate:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Code that was removed during refactoring"}),"\n",(0,r.jsx)(n.li,{children:"Dead code that should be cleaned up"}),"\n",(0,r.jsx)(n.li,{children:"A DataLoader that was registered but never used"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Cleaning up unused DataLoaders reduces complexity and maintenance burden."}),"\n",(0,r.jsx)(n.h2,{id:"how-to-fix",children:"How to Fix"}),"\n",(0,r.jsx)(n.h3,{id:"option-1-use-the-dataloader",children:"Option 1: Use the DataLoader"}),"\n",(0,r.jsx)(n.p,{children:"If you have a DataLoader that should be used, ensure it's:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Registered in your dependency injection container"}),"\n",(0,r.jsx)(n.li,{children:"Used in field resolvers"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// \u2705 CORRECT - Used in a resolver\npublic class UserResolver\n{\n    public async Task<User?> GetUserAsync(\n        [Parent] Post post,\n        [DataLoader] UserDataLoader userDataLoader)\n    {\n        return await userDataLoader.LoadAsync(post.UserId);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"option-2-remove-the-unused-dataloader",children:"Option 2: Remove the unused DataLoader"}),"\n",(0,r.jsx)(n.p,{children:"If the DataLoader is no longer needed, simply delete the interface:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"// \u274c Unused interface - remove it\npublic interface IUnusedDataLoader : IDataLoader<int, string>\n{\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"using GreenDonut;\n\n// \u26a0\ufe0f SWGQL02 - This interface appears unused in the compilation\npublic interface IUserDataLoader : IDataLoader<int, User>\n{\n}\n\n// \u2705 CORRECT - This interface is used\npublic interface IPostDataLoader : IDataLoader<int, Post>\n{\n}\n\npublic class PostResolver\n{\n    public async Task<User?> GetAuthorAsync(\n        [Parent] Post post,\n        [DataLoader] IPostDataLoader postDataLoader)\n    {\n        return await postDataLoader.LoadAsync(post.Id);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"This rule is informational by default. To treat it as a warning or error:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL02.severity = warning\n"})}),"\n",(0,r.jsx)(n.p,{children:"To disable it:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL02.severity = none\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-rules",children:"Related Rules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"None"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://chillicream.com/docs/greendonut",children:"GreenDonut DataLoader Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://chillicream.com/docs/hotchocolate/fetching-data",children:"HotChocolate DataLoaders"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>d});var t=a(6540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);