"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[81],{8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(6540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}},9316:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"rules/swgql03-graphql-extension-class-static","title":"SWGQL03: GraphQL extension class static","description":"Overview","source":"@site/docs/rules/swgql03-graphql-extension-class-static.md","sourceDirName":"rules","slug":"/rules/swgql03-graphql-extension-class-static","permalink":"/Stackworx.Analyzers/docs/rules/swgql03-graphql-extension-class-static","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rules/swgql03-graphql-extension-class-static.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"SWGQL02: Unused DataLoader interface","permalink":"/Stackworx.Analyzers/docs/rules/swgql02-unused-dataloader-interface"},"next":{"title":"SW101: Forbidden namespace reference","permalink":"/Stackworx.Analyzers/docs/rules/sw101-forbidden-namespace-reference"}}');var i=n(4848),r=n(8453);const a={sidebar_position:5},l="SWGQL03: GraphQL extension class static",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Description",id:"description",level:2},{value:"When This Rule Triggers",id:"when-this-rule-triggers",level:2},{value:"Why This Matters",id:"why-this-matters",level:2},{value:"HotChocolate Type Extension Pattern",id:"hotchocolate-type-extension-pattern",level:3},{value:"How to Fix",id:"how-to-fix",level:2},{value:"Example",id:"example",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Related Rules",id:"related-rules",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"swgql03-graphql-extension-class-static",children:"SWGQL03: GraphQL extension class static"})}),"\n",(0,i.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Rule ID:"})," SWGQL03",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Category:"})," GraphQL",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Severity:"})," Error",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Status:"})," Enabled by default"]}),"\n",(0,i.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(s.p,{children:["This rule enforces that classes annotated with ",(0,i.jsx)(s.code,{children:"[ExtendObjectType]"})," must be declared as ",(0,i.jsx)(s.code,{children:"static"}),". The ",(0,i.jsx)(s.code,{children:"[ExtendObjectType]"})," attribute is used to extend GraphQL types defined in HotChocolate, and these extension classes should be static to properly support the GraphQL type system."]}),"\n",(0,i.jsx)(s.h2,{id:"when-this-rule-triggers",children:"When This Rule Triggers"}),"\n",(0,i.jsx)(s.p,{children:"The analyzer reports a diagnostic when:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A class is decorated with the ",(0,i.jsx)(s.code,{children:"[ExtendObjectType]"})," attribute"]}),"\n",(0,i.jsxs)(s.li,{children:["The class is not declared as ",(0,i.jsx)(s.code,{children:"static"})]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,i.jsx)(s.h3,{id:"hotchocolate-type-extension-pattern",children:"HotChocolate Type Extension Pattern"}),"\n",(0,i.jsx)(s.p,{children:"In HotChocolate, when extending an existing GraphQL object type:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The class must be ",(0,i.jsx)(s.strong,{children:"static"})," to represent a pure type extension"]}),"\n",(0,i.jsx)(s.li,{children:"Instance state in extension classes can lead to unexpected behavior"}),"\n",(0,i.jsx)(s.li,{children:"Non-static extension classes violate HotChocolate's type system conventions"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This rule ensures your GraphQL schema extensions follow HotChocolate best practices."}),"\n",(0,i.jsx)(s.h2,{id:"how-to-fix",children:"How to Fix"}),"\n",(0,i.jsxs)(s.p,{children:["Add the ",(0,i.jsx)(s.code,{children:"static"})," modifier to the class declaration:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-csharp",children:'// \u274c WRONG - non-static extension class\n[ExtendObjectType(typeof(User))]\npublic class UserExtensions\n{\n    [GraphQLName("fullName")]\n    public string GetFullName([Parent] User user)\n    {\n        return $"{user.FirstName} {user.LastName}";\n    }\n}\n\n// \u2705 CORRECT - static extension class\n[ExtendObjectType(typeof(User))]\npublic static class UserExtensions\n{\n    [GraphQLName("fullName")]\n    public static string GetFullName([Parent] User user)\n    {\n        return $"{user.FirstName} {user.LastName}";\n    }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-csharp",children:'using HotChocolate.Types;\n\n// \u26a0\ufe0f SWGQL03 - Non-static extension class\n[ExtendObjectType(typeof(Post))]\npublic class PostExtensions\n{\n    public string GetSummary([Parent] Post post)\n    {\n        return post.Content.Length > 100 \n            ? post.Content.Substring(0, 100) + "..." \n            : post.Content;\n    }\n}\n\n// \u2705 CORRECT - Static extension class\n[ExtendObjectType(typeof(Post))]\npublic static class PostExtensions\n{\n    public static string GetSummary([Parent] Post post)\n    {\n        return post.Content.Length > 100 \n            ? post.Content.Substring(0, 100) + "..." \n            : post.Content;\n    }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(s.p,{children:"This rule is enabled by default as an error. To change its severity:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL03.severity = warning\n"})}),"\n",(0,i.jsx)(s.p,{children:"To disable it:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL03.severity = none\n"})}),"\n",(0,i.jsx)(s.h2,{id:"related-rules",children:"Related Rules"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"./swgql01-static-extension-method-validation",children:"SWGQL01 - Field extension methods on non-static classes must be instance methods"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://chillicream.com/docs/hotchocolate/types#extend-types",children:"HotChocolate Type Extensions"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://chillicream.com/docs/hotchocolate/types#extending-types",children:"ExtendObjectType Attribute"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);