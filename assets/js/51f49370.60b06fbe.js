"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[738],{2388:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"rules/swgql01-static-extension-method-validation","title":"SWGQL01: Static extension method validation","description":"Overview","source":"@site/docs/rules/swgql01-static-extension-method-validation.md","sourceDirName":"rules","slug":"/rules/swgql01-static-extension-method-validation","permalink":"/Stackworx.Analyzers/docs/rules/swgql01-static-extension-method-validation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rules/swgql01-static-extension-method-validation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"SW0001: Avoid implicit DateTime \u2192 DateTimeOffset conversion","permalink":"/Stackworx.Analyzers/docs/rules/sw0001-avoid-implicit-datetime-to-datetimeoffset"},"next":{"title":"SWGQL02: Unused DataLoader interface","permalink":"/Stackworx.Analyzers/docs/rules/swgql02-unused-dataloader-interface"}}');var i=s(4848),a=s(8453);const r={sidebar_position:3},o="SWGQL01: Static extension method validation",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Description",id:"description",level:2},{value:"When This Rule Triggers",id:"when-this-rule-triggers",level:2},{value:"Why This Matters",id:"why-this-matters",level:2},{value:"GraphQL Field Resolution Context",id:"graphql-field-resolution-context",level:3},{value:"How to Fix",id:"how-to-fix",level:2},{value:"Option 1: Make the method an instance method (if class is not static)",id:"option-1-make-the-method-an-instance-method-if-class-is-not-static",level:3},{value:"Option 2: Make the class static (if you want static methods)",id:"option-2-make-the-class-static-if-you-want-static-methods",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Related Rules",id:"related-rules",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const t={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"swgql01-static-extension-method-validation",children:"SWGQL01: Static extension method validation"})}),"\n",(0,i.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Rule ID:"})," SWGQL01",(0,i.jsx)(t.br,{}),"\n",(0,i.jsx)(t.strong,{children:"Category:"})," GraphQL",(0,i.jsx)(t.br,{}),"\n",(0,i.jsx)(t.strong,{children:"Severity:"})," Error",(0,i.jsx)(t.br,{}),"\n",(0,i.jsx)(t.strong,{children:"Status:"})," Enabled by default"]}),"\n",(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(t.p,{children:["This rule enforces that field extension methods with the ",(0,i.jsx)(t.code,{children:"[Parent]"})," parameter on non-static classes must be instance methods, not static methods. This is a GraphQL-specific rule for HotChocolate resolvers."]}),"\n",(0,i.jsx)(t.h2,{id:"when-this-rule-triggers",children:"When This Rule Triggers"}),"\n",(0,i.jsx)(t.p,{children:"The analyzer reports a diagnostic when:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A method has a parameter decorated with ",(0,i.jsx)(t.code,{children:"[Parent]"})," attribute"]}),"\n",(0,i.jsxs)(t.li,{children:["The method is declared as ",(0,i.jsx)(t.code,{children:"static"})]}),"\n",(0,i.jsx)(t.li,{children:"The containing class is not static"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,i.jsx)(t.h3,{id:"graphql-field-resolution-context",children:"GraphQL Field Resolution Context"}),"\n",(0,i.jsxs)(t.p,{children:["In HotChocolate, field extension methods use the ",(0,i.jsx)(t.code,{children:"[Parent]"})," attribute to indicate that the parameter represents the parent object being resolved. These methods must:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Be ",(0,i.jsx)(t.strong,{children:"instance methods"})," if the class is not static (to have access to instance state)"]}),"\n",(0,i.jsxs)(t.li,{children:["Be ",(0,i.jsx)(t.strong,{children:"static methods"})," only if the containing class itself is static"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Violating this creates runtime errors or unexpected behavior during GraphQL query execution."}),"\n",(0,i.jsx)(t.h2,{id:"how-to-fix",children:"How to Fix"}),"\n",(0,i.jsx)(t.h3,{id:"option-1-make-the-method-an-instance-method-if-class-is-not-static",children:"Option 1: Make the method an instance method (if class is not static)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'public class UserExtensions\n{\n    // \u274c WRONG - static method in non-static class with [Parent]\n    public static string GetFullName([Parent] User user)\n    {\n        return $"{user.FirstName} {user.LastName}";\n    }\n}\n\n// \u2705 CORRECT - instance method\npublic class UserExtensions\n{\n    public string GetFullName([Parent] User user)\n    {\n        return $"{user.FirstName} {user.LastName}";\n    }\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"option-2-make-the-class-static-if-you-want-static-methods",children:"Option 2: Make the class static (if you want static methods)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'// \u2705 CORRECT - static class with static method\npublic static class UserExtensions\n{\n    public static string GetFullName([Parent] User user)\n    {\n        return $"{user.FirstName} {user.LastName}";\n    }\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(t.p,{children:"This rule is enabled by default as an error. To change its severity:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL01.severity = warning\n"})}),"\n",(0,i.jsx)(t.p,{children:"To disable it:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ini",children:"[*.cs]\ndotnet_diagnostic.SWGQL01.severity = none\n"})}),"\n",(0,i.jsx)(t.h2,{id:"related-rules",children:"Related Rules"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"./swgql03-graphql-extension-class-static",children:"SWGQL03 - Class with [ExtendObjectType] must be static"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://chillicream.com/docs/hotchocolate/resolvers",children:"HotChocolate Field Resolvers"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://chillicream.com/docs/hotchocolate/resolvers#parent",children:"Parent attribute documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>o});var n=s(6540);const i={},a=n.createContext(i);function r(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);